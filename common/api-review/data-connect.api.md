## API Report File for "@firebase/data-connect"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { FirebaseApp } from '@firebase/app';
import { FirebaseAuthInternalName } from '@firebase/auth-interop-types';
import { FirebaseAuthTokenData } from '@firebase/auth-interop-types';
import { FirebaseError } from '@firebase/util';
import { FirebaseOptions } from '@firebase/app';
import { LogLevelString } from '@firebase/logger';
import { Provider } from '@firebase/component';

// @public (undocumented)
export type AuthTokenListener = (token: string | null) => void;

// @public (undocumented)
export interface AuthTokenProvider {
    // (undocumented)
    addTokenChangeListener(listener: AuthTokenListener): void;
    // (undocumented)
    getToken(forceRefresh: boolean): Promise<FirebaseAuthTokenData | null>;
}

// @public (undocumented)
export interface CancellableOperation<T> extends PromiseLike<{
    data: T;
}> {
    // (undocumented)
    cancel: () => void;
}

// @public (undocumented)
export function connectDataConnectEmulator(dc: DataConnect, host: string, port?: number, sslEnabled?: boolean): void;

// @public (undocumented)
export interface ConnectorConfig {
    // (undocumented)
    connector: string;
    // (undocumented)
    location: string;
    // (undocumented)
    service: string;
}

// @public (undocumented)
export class DataConnect {
    constructor(app: FirebaseApp, dataConnectOptions: DataConnectOptions, authProvider: Provider<FirebaseAuthInternalName>);
    // (undocumented)
    readonly app: FirebaseApp;
    // (undocumented)
    enableEmulator(transportOptions: TransportOptions): void;
    // (undocumented)
    getSettings(): ConnectorConfig;
    // (undocumented)
    initialized: boolean;
    // (undocumented)
    isEmulator: boolean;
    // (undocumented)
    setInitialized(): void;
    }

// @public (undocumented)
export interface DataConnectOptions extends ConnectorConfig {
    // (undocumented)
    projectId: string;
}

// @public (undocumented)
export interface DataConnectResult<Data, Variables> extends OpResult<Data> {
    // (undocumented)
    ref: OperationRef<Data, Variables>;
}

// @public (undocumented)
export interface DataConnectSubscription<Data, Variables> {
    // (undocumented)
    errCallback?: (e?: FirebaseError) => void;
    // (undocumented)
    unsubscribe: () => void;
    // (undocumented)
    userCallback: OnResultSubscription<Data, Variables>;
}

// @public (undocumented)
export interface DataConnectTransport {
    // (undocumented)
    invokeMutation<T, U>(queryName: string, body?: U): PromiseLike<{
        data: T;
        errors: Error[];
    }>;
    // (undocumented)
    invokeQuery<T, U>(queryName: string, body?: U): PromiseLike<{
        data: T;
        errors: Error[];
    }>;
    // (undocumented)
    onTokenChanged: (token: string | null) => void;
    // (undocumented)
    useEmulator(host: string, port?: number, sslEnabled?: boolean): void;
}

// @public (undocumented)
export type DataSource = typeof SOURCE_CACHE | typeof SOURCE_SERVER;

// @public (undocumented)
export class EmulatorTokenProvider implements AuthTokenProvider {
    constructor(accessToken: string);
    // (undocumented)
    addTokenChangeListener(listener: AuthTokenListener): void;
    // (undocumented)
    getToken(forceRefresh: boolean): Promise<FirebaseAuthTokenData>;
    // (undocumented)
    notifyForInvalidToken(): void;
    static OWNER: string;
    // (undocumented)
    removeTokenChangeListener(listener: (token: string | null) => void): void;
}

// @public (undocumented)
export function executeMutation<Data, Variables>(mutationRef: MutationRef<Data, Variables>): MutationPromise<Data, Variables>;

// @public (undocumented)
export function executeQuery<Data, Variables>(queryRef: QueryRef<Data, Variables>): QueryPromise<Data, Variables>;

// @public (undocumented)
export const FIREBASE_DATA_CONNECT_EMULATOR_HOST_VAR = "FIREBASE_DATA_CONNECT_EMULATOR_HOST";

// @public (undocumented)
export class FirebaseAuthProvider implements AuthTokenProvider {
    constructor(appName: string, options: FirebaseOptions, authProvider_: Provider<FirebaseAuthInternalName>);
    // (undocumented)
    addTokenChangeListener(listener: AuthTokenListener): void;
    // (undocumented)
    getToken(forceRefresh: boolean): Promise<FirebaseAuthTokenData | null>;
    // (undocumented)
    removeTokenChangeListener(listener: (token: string | null) => void): void;
}

// @public (undocumented)
export function getDataConnect(options: ConnectorConfig): DataConnect;

// @public (undocumented)
export function getDataConnect(app: FirebaseApp, options: ConnectorConfig): DataConnect;

// @public (undocumented)
export class MutationManager {
    constructor(transport: DataConnectTransport);
    // (undocumented)
    executeMutation<Response, Variables>(mutationRef: MutationRef<Response, Variables>): MutationPromise<Response, Variables>;
    }

// @public (undocumented)
export interface MutationPromise<Data, Variables> extends PromiseLike<MutationResult<Data, Variables>> {
}

// @public (undocumented)
export interface MutationRef<Response, Variables> extends OperationRef<Response, Variables> {
    // (undocumented)
    refType: typeof MutationStr;
}

// @public (undocumented)
export function mutationRef<Response>(dcInstance: DataConnect, queryName: string): MutationRef<Response, undefined>;

// @public (undocumented)
export function mutationRef<Response, Variables>(dcInstance: DataConnect, queryName: string, variables: Variables): MutationRef<Response, Variables>;

// @public (undocumented)
export interface MutationResponse<T> extends CancellableOperation<T> {
}

// @public (undocumented)
export interface MutationResult<Data, Variables> extends DataConnectResult<Data, Variables> {
    // (undocumented)
    ref: MutationRef<Data, Variables>;
}

// @public (undocumented)
export const MutationStr = "mutation";

// @public (undocumented)
export type OnCompleteSubscription = () => void;

// @public (undocumented)
export type OnErrorSubscription = (err?: FirebaseError) => void;

// @public (undocumented)
export type OnResultSubscription<Data, Variables> = (res: QueryResult<Data, Variables>) => void;

// @public (undocumented)
export interface OperationRef<_Data, Variables> {
    // (undocumented)
    dataConnect: DataConnect;
    // (undocumented)
    name: string;
    // (undocumented)
    refType: ReferenceType;
    // (undocumented)
    variables: Variables;
}

// @public (undocumented)
export interface OpResult<Data> {
    // (undocumented)
    data: Data;
    // (undocumented)
    fetchTime: string;
    // (undocumented)
    source: DataSource;
}

// @public (undocumented)
export interface ProjectOptions {
    // (undocumented)
    connector: string;
    // (undocumented)
    location: string;
    // (undocumented)
    projectId: string;
    // (undocumented)
    service: string;
}

// @public (undocumented)
export interface QueryPromise<Data, Variables> extends PromiseLike<QueryResult<Data, Variables>> {
}

// @public (undocumented)
export interface QueryRef<Data, Variables> extends OperationRef<Data, Variables> {
    // (undocumented)
    refType: typeof QueryStr;
}

// @public (undocumented)
export function queryRef<Data>(dcInstance: DataConnect, queryName: string): QueryRef<Data, undefined>;

// @public (undocumented)
export function queryRef<Data, Variables>(dcInstance: DataConnect, queryName: string, variables: Variables): QueryRef<Data, Variables>;

// @public (undocumented)
export interface QueryResponse<T> extends CancellableOperation<T> {
}

// @public (undocumented)
export interface QueryResult<Data, Variables> extends DataConnectResult<Data, Variables> {
    // (undocumented)
    ref: QueryRef<Data, Variables>;
    // (undocumented)
    toJSON: () => SerializedRef<Data, Variables>;
}

// @public (undocumented)
export const QueryStr = "query";

// @public (undocumented)
export type QueryUnsubscribe = () => void;

// @public (undocumented)
export type ReferenceType = typeof QueryStr | typeof MutationStr;

// @public (undocumented)
export interface RefInfo<Variables> {
    // (undocumented)
    connectorConfig: DataConnectOptions;
    // (undocumented)
    name: string;
    // (undocumented)
    variables: Variables;
}

// @public (undocumented)
export interface Sender<T> {
    // (undocumented)
    abort: () => void;
    // (undocumented)
    send: () => Promise<T>;
}

// @public (undocumented)
export interface SerializedRef<Data, Variables> extends OpResult<Data> {
    // (undocumented)
    refInfo: RefInfo<Variables>;
}

// @public (undocumented)
export function setLogLevel(logLevel: LogLevelString): void;

// @public (undocumented)
export const SOURCE_CACHE = "CACHE";

// @public (undocumented)
export const SOURCE_SERVER = "SERVER";

// @public (undocumented)
export function subscribe<Data, Variables>(queryRefOrSerializedResult: QueryRef<Data, Variables> | SerializedRef<Data, Variables>, observer: SubscriptionOptions<Data, Variables>): QueryUnsubscribe;

// @public (undocumented)
export function subscribe<Data, Variables>(queryRefOrSerializedResult: QueryRef<Data, Variables> | SerializedRef<Data, Variables>, onNext: OnResultSubscription<Data, Variables>, onError?: OnErrorSubscription, onComplete?: OnCompleteSubscription): QueryUnsubscribe;

// @public (undocumented)
export interface SubscriptionOptions<Data, Variables> {
    // (undocumented)
    onComplete?: OnCompleteSubscription;
    // (undocumented)
    onErr?: OnErrorSubscription;
    // (undocumented)
    onNext?: OnResultSubscription<Data, Variables>;
}

// @public (undocumented)
export function terminate(dataConnect: DataConnect): void;

// @public (undocumented)
export function toQueryRef<Data, Variables>(serializedRef: SerializedRef<Data, Variables>): QueryRef<unknown, Variables>;

// @public (undocumented)
export type TransportClass = new (options: DataConnectOptions, apiKey?: string, authProvider?: AuthTokenProvider, transportOptions?: TransportOptions) => DataConnectTransport;

// @public (undocumented)
export interface TransportOptions {
    // (undocumented)
    host: string;
    // (undocumented)
    port?: number;
    // (undocumented)
    sslEnabled?: boolean;
}


```
